<!DOCTYPE html>
<html lang="zh-Hant">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8;charset=utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">
<meta name="author" content="Liang-Bo Wang" />
<meta name="description" content="平常用最多的是 SQLite，但 PostgreSQL 有很多好用的功能，每次要用想不起來怎麼裝。總之把相關設定的筆記存在這。 用 Debian Jessie (Debian 8.3) 與 OSX …" />
<meta name="keywords" content="zh, postgresql, debian, osx">
	<link rel="shortcut icon" href="https://blog.liang2.tw/favicon.ico" />
	<title>安裝 PostgreSQL 9 於 Debian Jessie / OSX</title>

	<!-- og -->
<meta property="og:locale" content="zh_TW"/>
<meta property="og:site_name" content="Liang-Bo Wang's Blog"/>
<meta property="og:title" content="安裝 PostgreSQL 9 於 Debian Jessie / OSX"/>
<meta property="og:description" content="平常用最多的是 SQLite，但 PostgreSQL 有很多好用的功能，每次要用想不起來怎麼裝。總之把相關設定的筆記存在這。 用 Debian Jessie (Debian 8.3) 與 OSX …"/>
<meta property="og:locale" content=""/>
<meta property="og:url" content="https://blog.liang2.tw/posts/2016/01/postgresql-install/"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2016-01-25 17:00:00-06:00"/>
<meta property="article:modified_time" content="2021-03-01 20:49:49.102075-06:00"/>
<meta property="article:author" content="https://blog.liang2.tw/author/liang-bo-wang.html">
<meta property="article:section" content="Coding"/>
<meta property="article:tag" content="zh"/>
<meta property="article:tag" content="postgresql"/>
<meta property="article:tag" content="debian"/>
<meta property="article:tag" content="osx"/>
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@ccwang002">
<meta name="twitter:title" content="安裝 PostgreSQL 9 於 Debian Jessie / OSX">
<meta name="twitter:description" content="平常用最多的是 SQLite，但 PostgreSQL 有很多好用的功能，每次要用想不起來怎麼裝。總之把相關設定的筆記存在這。 用 Debian Jessie (Debian 8.3) 與 OSX …">

	<!-- Feeds -->
	<link href="https://blog.liang2.tw/feeds/all.atom.xml"
		type="application/atom+xml" rel="alternate" title="Liang-Bo Wang's Blog" />

	<link rel="stylesheet" type="text/css" href="https://blog.liang2.tw/theme/css/style.css" />
	<link rel="stylesheet" type="text/css" href="https://blog.liang2.tw/theme/css/pygments.css" />
	<link rel="stylesheet" type="text/css" href="https://blog.liang2.tw/theme/katex-0.11.1/katex.min.css">
</head>

<body class="post-template">
	<header class="site-head">
		<h1 class="blog-title"><a href="https://blog.liang2.tw">Liang-Bo Wang's Blog</a></h1>
		<h2 class="blog-description">
			<a href="https://blog.liang2.tw/about-me/">About</a> |
			<a href="https://blog.liang2.tw/talks/">Talks</a> |
			<a href="https://blog.liang2.tw/archives.html">Archives</a>
		</h2>
	</header>
	<main id="content" class="content" role="main">
<article class="post zh-post">
    <span class="post-meta">
        <time datetime="Jan 25, 2016">Jan 25, 2016</time>
        in <a href="https://blog.liang2.tw/category/coding/">Coding</a>
    </span>
    <h1 class="post-title">
        <a href="https://blog.liang2.tw/posts/2016/01/postgresql-install/" rel="bookmark" title="Permalink to 安裝 PostgreSQL 9 於 Debian Jessie / OSX">安裝 PostgreSQL 9 於 Debian Jessie / OSX</a>
    </h1>
    <span class="post-meta">
                <a href="https://blog.liang2.tw/tag/zh/">zh</a>
                <a href="https://blog.liang2.tw/tag/postgresql/">postgresql</a>
                <a href="https://blog.liang2.tw/tag/debian/">debian</a>
                <a href="https://blog.liang2.tw/tag/osx/">osx</a>
    </span>
    <section class="post-content"><p>平常用最多的是 <a href="https://www.sqlite.org/">SQLite</a>，但 <a href="http://www.postgresql.org/">PostgreSQL</a> 有很多好用的功能，每次要用想不起來怎麼裝。總之把相關設定的筆記存在這。</p>
<p>用 <a href="https://www.debian.org/releases/stable/">Debian Jessie</a> (Debian 8.3) 與 OSX <a href="http://brew.sh/">Homebrew</a> 舉例。不過 OSX 大概也不會沒事把 PostgreSQL 開著，主要是著重在 Debian 的環境設定上。目前 PostgreSQL 出到 9.5 但 Debian stable 是 9.4。基本設定應該完全沒差別。</p>
<div class="toc">
<ul>
<li><a href="#postgresql">安裝 PostgreSQL</a><ul>
<li><a href="#osx">安裝在 OSX</a></li>
<li><a href="#debian-jessie">安裝在 Debian Jessie</a></li>
</ul>
</li>
<li><a href="#database">初始個人的 Database</a><ul>
<li><a href="#postgresql_1">建立同使用者名稱的 PostgreSQL 帳號</a></li>
<li><a href="#database_1">建立與帳號同名稱的 database</a></li>
<li><a href="#psql">用使用者帳號連接 psql</a></li>
</ul>
</li>
<li><a href="#psql_1">psql 指令</a></li>
<li><a href="#database_2">刪除使用者、Database</a></li>
<li><a href="#_1">進階主題</a><ul>
<li><a href="#psql_2">透過 psql 創建使用者帳號、資料庫</a></li>
<li><a href="#postgresql-logging">PostgreSQL Logging</a><ul>
<li><a href="#logging-postgresql">Logging 讓 PostgreSQL 自己管</a></li>
<li><a href="#logging-systemd">Logging 透過 Systemd</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#reference">Reference</a></li>
</ul>
</div>
<h2 id="postgresql">安裝 PostgreSQL</h2>
<h3 id="osx">安裝在 OSX</h3>
<div class="highlight"><pre><span></span><code><span class="go">brew install postgresql</span>
</code></pre></div>


<p>要用的時候手動把 PostgreSQL server 打開，</p>
<div class="highlight"><pre><span></span><code><span class="go">postgres -D /usr/local/var/postgres</span>
</code></pre></div>


<p>PostgreSQL 的設定參考 Debian 的版本。</p>
<h3 id="debian-jessie">安裝在 Debian Jessie</h3>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>sudo apt-get install postgresql-9.4
</code></pre></div>


<p>現在系統服務都由 <a href="http://freedesktop.org/wiki/Software/systemd/">Systemd</a> 管理了，檢查 PostgreSQL 有沒有跑起來透過 <code>systemctl</code> 這指令就可以。</p>
<div class="highlight"><pre><span></span><code><span class="gp"># </span>systemctl status postgresql.service
<span class="go">● postgresql.service - PostgreSQL RDBMS</span>
<span class="go">   Loaded: loaded (/lib/systemd/system/postgresql.service; enabled)</span>
<span class="go">   Active: inactive (dead) since Mon 2016-01-25 17:26:08 CST; 4s ago</span>
<span class="go">  Process: 913 ExecStart=/bin/true (code=exited, status=0/SUCCESS)</span>
<span class="go"> Main PID: 913 (code=exited, status=0/SUCCESS)</span>
</code></pre></div>


<p>不過這 service 看不太到什麼運行的資訊，其實是個 dummy service，它會 trigger 可能很多個 PostgreSQL database cluster 什麼的。預設只有一個 <code>main</code> 的 cluster。</p>
<div class="highlight"><pre><span></span><code><span class="gp"># </span>systemctl status postgresql@9.4-main.service
<span class="go">● postgresql@9.4-main.service - PostgreSQL Cluster 9.4-main</span>
<span class="go">   Loaded: loaded (/lib/systemd/system/postgresql@.service; disabled)</span>
<span class="go">   Active: active (running) since Mon 2016-01-25 17:26:30 CST; 4min 7s ago</span>
<span class="go">  Process: 9641 ExecStop=/usr/bin/pg_ctlcluster -m fast %i stop (code=exited, status=0/SUCCESS)</span>
<span class="go">  Process: 9717 ExecStart=postgresql@%i %i start (code=exited, status=0/SUCCESS)</span>
<span class="go"> Main PID: 9723 (postgres)</span>
<span class="go">   CGroup: /system.slice/system-postgresql.slice/postgresql@9.4-main.service</span>
<span class="go">           ├─9723 /usr/lib/postgresql/9.4/bin/postgres -D /var/lib/postgresql/9.4/main -c config_file=/etc/postgr...</span>
<span class="go">           ├─9725 postgres: checkpointer process</span>
<span class="go">           ├─9726 postgres: writer process</span>
<span class="go">           ├─9727 postgres: wal writer process</span>
<span class="go">           ├─9728 postgres: autovacuum launcher process</span>
<span class="go">           └─9729 postgres: stats collector process</span>
</code></pre></div>


<h2 id="database">初始個人的 Database</h2>
<p>在 OSX 上用 homebrew 安裝 PostgreSQL 的使用者會有 superuser 的權限，反正是本地開發也沒差，建 database 等設定都比較簡單。</p>
<p>在 Debian 上的話，有這 superuser 權限的使用者為 <code>postgres</code>。所以預設使用者（這邊以 <code>vm</code> 為例）會無法連線。</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>psql
<span class="go">psql: FATAL:  role &quot;vm&quot; does not exist</span>
</code></pre></div>


<p>切到 root 再切到 postgres 身份就能用 <code>psql</code> （PostgreSQL 的 REPL shell）連到 database。用 <code>\q</code> 就可以退出 psql。</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>sudo -u postgres psql
<span class="go">[sudo] password for vm:</span>
<span class="go">psql (9.4.5)</span>
<span class="go">Type &quot;help&quot; for help.</span>

<span class="go">postgres=# \q</span>
<span class="gp">$</span>
</code></pre></div>


<p>但用 postgres 這 superuser 去連資料庫不是很安全，一開始養成好習慣應該用個人帳號。所以接下來要完成：</p>
<ol>
<li>建立同使用者名稱的 PostgreSQL 帳號</li>
<li>建立與帳號同名稱的 database</li>
</ol>
<h3 id="postgresql_1">建立同使用者名稱的 PostgreSQL 帳號</h3>
<p>在 Debian 上可以用 <code>$USER</code> 來抓到現在登入者的帳號，即使用 sudo 切換身份這環境變數的值不會變。（讀 <a href="https://help.ubuntu.com/community/PostgreSQL">Ubuntu wiki</a> 看到的技巧）</p>
<p>擔心的話就直接在有 <code>$USER</code> 的地方打出帳號即可。先確認一下，</p>
<div class="highlight"><pre><span></span><code><span class="gp">vm@vm-debian:~$ echo $</span>USER
<span class="go">vm</span>
<span class="gp">vm@vm-debian:~$ </span>sudo -u postgres <span class="nb">echo</span> <span class="nv">$USER</span>
<span class="go">vm</span>
</code></pre></div>


<p>建立使用者是透過 <code>createuser</code> 這指令。這是使用者帳號就不給太多權限。</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>sudo -u postgres createuser --interactive <span class="nv">$USER</span>
<span class="go">Shall the new role be a superuser? (y/n) n</span>
<span class="go">Shall the new role be allowed to create databases? (y/n) n</span>
<span class="go">Shall the new role be allowed to create more new roles? (y/n) n</span>
</code></pre></div>


<p>這時候透過 <code>psql</code> 看就會多一個使用者。</p>
<div class="highlight"><pre><span></span><code><span class="c1">-- Run with command `sudo -u postgres psql`</span>
<span class="gp">postgres=#</span> <span class="kp">\du</span>
                             <span class="n">List</span> <span class="k">of</span> <span class="n">roles</span>
 <span class="k">Role</span> <span class="k">name</span> <span class="o">|</span>                   <span class="n">Attributes</span>                   <span class="o">|</span> <span class="n">Member</span> <span class="k">of</span>
<span class="c1">-----------+------------------------------------------------+-----------</span>
 <span class="n">postgres</span>  <span class="o">|</span> <span class="n">Superuser</span><span class="p">,</span> <span class="k">Create</span> <span class="k">role</span><span class="p">,</span> <span class="k">Create</span> <span class="n">DB</span><span class="p">,</span> <span class="n">Replication</span> <span class="o">|</span> <span class="p">{}</span>
 <span class="n">vm</span>        <span class="o">|</span>                                                <span class="o">|</span> <span class="p">{}</span>
</code></pre></div>


<h3 id="database_1">建立與帳號同名稱的 database</h3>
<p>透過 <code>createdb</code> 這指令。把與帳號同名 database 的 owner 設定成該帳號。</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>sudo -u postgres createdb --owner<span class="o">=</span><span class="nv">$USER</span> <span class="nv">$USER</span>
</code></pre></div>


<p>要多建別的 database 給這帳號也沒問題，例如名為 <code>vm_database</code> 的 database，</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>sudo -u postgres createdb --owner<span class="o">=</span><span class="nv">$USER</span> vm_database
</code></pre></div>


<h3 id="psql">用使用者帳號連接 psql</h3>
<p>這時候打 <code>psql</code> 就沒問題了。</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>psql
<span class="go">psql (9.4.5)</span>
<span class="go">Type &quot;help&quot; for help.</span>

<span class="go">vm=&gt; \conninfo</span>
<span class="go">You are connected to database &quot;vm&quot; as user &quot;vm&quot; via socket in &quot;/var/run/postgresql&quot; at port &quot;5432&quot;.</span>
</code></pre></div>


<p>Prompt 從 <code>#=</code> 變成 <code>=&gt;</code> 表示現在連線的使用者不是 superuser。透過 psql 的指令 <code>\l</code> 或 <code>\l+</code> 可以看現在所有的 database：</p>
<div class="highlight"><pre><span></span><code><span class="gp">vm=&gt;</span> <span class="kp">\l</span>
<span class="go">                                   List of databases</span>
<span class="go">    Name     |  Owner   | Encoding |   Collate   |    Ctype    |   Access privileges</span>
<span class="go">-------------+----------+----------+-------------+-------------+-----------------------</span>
<span class="go"> postgres    | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 |</span>
<span class="go"> template0   | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | =c/postgres          +</span>
<span class="go">             |          |          |             |             | postgres=CTc/postgres</span>
<span class="go"> template1   | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | =c/postgres          +</span>
<span class="go">             |          |          |             |             | postgres=CTc/postgres</span>
<span class="go"> vm          | vm       | UTF8     | en_US.UTF-8 | en_US.UTF-8 |</span>
<span class="go"> vm_database | vm       | UTF8     | en_US.UTF-8 | en_US.UTF-8 |</span>
<span class="go">(5 rows)</span>
</code></pre></div>


<p>連另一個 database <code>vm_database</code> 也很簡單，</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>psql -d vm_database
<span class="go">psql (9.4.5)</span>
<span class="go">Type &quot;help&quot; for help.</span>

<span class="go">vm_database=&gt;</span>
</code></pre></div>


<h2 id="psql_1">psql 指令</h2>
<p>psql 的指令很多，用 <code>\?</code> 可以看到列表。完整的版本可以見<a href="http://www.postgresql.org/docs/9.4/static/app-psql.html#APP-PSQL-META-COMMANDS">官網 psql meta-commands</a> 的介紹。底下列幾個常用的：</p>
<div class="highlight"><pre><span></span><code>\l          # list all database
\d          # list tables in current database
\du         # list roles
\conninfo   # show current SQL connection
\q          # quit
help        # print a hub message for all kinds of help
</code></pre></div>


<h2 id="database_2">刪除使用者、Database</h2>
<p>各有一個指令對應。</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>dropuser &lt;usr&gt;
<span class="gp">$ </span>dropdb &lt;db&gt;
</code></pre></div>


<h2 id="_1">進階主題</h2>
<h3 id="psql_2">透過 psql 創建使用者帳號、資料庫</h3>
<p>Ref: <a href="http://www.cyberciti.biz/faq/howto-add-postgresql-user-account/">http://www.cyberciti.biz/faq/howto-add-postgresql-user-account/</a></p>
<div class="highlight"><pre><span></span><code><span class="c1">-- Run with command `sudo -u postgres psql -d template1`</span>
<span class="gp">template1=#</span> <span class="k">CREATE</span> <span class="k">USER</span> <span class="o">&lt;</span><span class="n">usr</span><span class="o">&gt;</span> <span class="k">WITH</span> <span class="k">PASSWORD</span> <span class="s1">&#39;&lt;pwd&gt;&#39;</span><span class="p">;</span>
<span class="gp">template1=#</span> <span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="o">&lt;</span><span class="n">db</span><span class="o">&gt;</span><span class="p">;</span>
<span class="gp">template1=#</span> <span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="k">DATABASE</span> <span class="o">&lt;</span><span class="n">db</span><span class="o">&gt;</span> <span class="k">TO</span> <span class="o">&lt;</span><span class="n">usr</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div>


<h3 id="postgresql-logging">PostgreSQL Logging</h3>
<p>設定在 <code>/etc/postgresql/9.4/main/postgresql.conf</code> 裡。不同管理 log 的方式就要選擇不同的 <code>log_destination</code>。</p>
<ol>
<li>PostgreSQL 自己管：<code>stderr</code>, &hellip;</li>
<li>透過 <a href="http://freedesktop.org/wiki/Software/systemd/">Systemd</a>：<code>syslog</code></li>
</ol>
<p>不過我沒深入研究就是，看那個 conf 裡很多設定可以調整。設定修改後要 restart PostgreSQL cluster，</p>
<div class="highlight"><pre><span></span><code>sudo systemctl restart postgresql.service
</code></pre></div>


<h4 id="logging-postgresql">Logging 讓 PostgreSQL 自己管</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># At /etc/postgresql/9.4/main/postgresql.conf</span>
<span class="na">log_destination</span> <span class="o">=</span> <span class="s">&#39;stderr&#39; </span>
<span class="na">logging_collector</span> <span class="o">=</span> <span class="s">on                              </span>
</code></pre></div>


<p>Log files 預設寫在 <code>/var/lib/postgresql/9.4/main/pg_log/</code>。</p>
<h4 id="logging-systemd">Logging 透過 Systemd</h4>
<p>我覺得 systemd 的優點之一就是能把 log 都集中管理，只要照它的規則，就能用一樣的方法管理 logging 是蠻方便的。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># At /etc/postgresql/9.4/main/postgresql.conf</span>
<span class="na">log_destination</span> <span class="o">=</span> <span class="s">&#39;syslog&#39;  </span>
<span class="na">logging_collector</span> <span class="o">=</span> <span class="s">off   # on 也只會說被導向到 syslog 了                             </span>
</code></pre></div>


<p>這時候重啟服務，再看 <code>systemctl status</code> 就能看到最近的 log 了。</p>
<div class="highlight"><pre><span></span><code><span class="gp"># </span>systemctl status postgresql@9.4-main
<span class="go">● postgresql@9.4-main.service - PostgreSQL Cluster 9.4-main</span>
<span class="go">   Loaded: loaded (/lib/systemd/system/postgresql@.service; disabled)</span>
<span class="go">   Active: active (running) since Mon 2016-01-25 17:52:02 CST; 1min 13s ago</span>
<span class="go">  Process: 14632 ExecStop=/usr/bin/pg_ctlcluster -m fast %i stop (code=exited, status=0/SUCCESS)</span>
<span class="go">  Process: 14641 ExecStart=postgresql@%i %i start (code=exited, status=0/SUCCESS)</span>
<span class="go"> Main PID: 14648 (postgres)</span>
<span class="go">   CGroup: /system.slice/system-postgresql.slice/postgresql@9.4-main.service</span>
<span class="go">           ├─14648 /usr/lib/postgresql/9.4/bin/postgres -D /var/lib/postgresql/9.4/main -c config_file=/etc/postg...</span>
<span class="go">           ├─14650 postgres: checkpointer process</span>
<span class="go">           ├─14651 postgres: writer process</span>
<span class="go">           ├─14652 postgres: wal writer process</span>
<span class="go">           ├─14653 postgres: autovacuum launcher process</span>
<span class="go">           └─14654 postgres: stats collector process</span>

<span class="go">Jan 25 17:52:00 vm-debian postgres[14648]: [1-1] 2016-01-25 17:52:00 CST [14648-1] LOG:  ending log output to stderr</span>
<span class="go">Jan 25 17:52:00 vm-debian postgres[14648]: [1-2] 2016-01-25 17:52:00 CST [14648-2] HINT:  Future log output ...log&quot;.</span>
<span class="go">Jan 25 17:52:00 vm-debian postgres[14649]: [2-1] 2016-01-25 17:52:00 CST [14649-1] LOG:  database system was...9 CST</span>
<span class="go">Jan 25 17:52:00 vm-debian postgres[14649]: [3-1] 2016-01-25 17:52:00 CST [14649-2] LOG:  MultiXact member wr...abled</span>
<span class="go">Jan 25 17:52:00 vm-debian postgres[14648]: [2-1] 2016-01-25 17:52:00 CST [14648-3] LOG:  database system is ...tions</span>
<span class="go">Jan 25 17:52:00 vm-debian postgres[14653]: [2-1] 2016-01-25 17:52:00 CST [14653-1] LOG:  autovacuum launcher started</span>
<span class="go">Jan 25 17:52:00 vm-debian postgres[14658]: [3-1] 2016-01-25 17:52:00 CST [14658-1] [unknown]@[unknown] LOG: ...acket</span>
<span class="go">Jan 25 17:52:38 vm-debian postgres[14793]: [3-1] 2016-01-25 17:52:38 CST [14793-1] root@root FATAL:  role &quot;r...exist</span>
<span class="go">Hint: Some lines were ellipsized, use -l to show in full.</span>
</code></pre></div>


<p>或用 systemd 標準看 log 的方式 <code>journalctl</code></p>
<div class="highlight"><pre><span></span><code><span class="gp"># </span>journalctl -u postgresql@9.4-main 
<span class="go">-- Logs begin at Mon 2016-01-25 16:46:25 CST, end at Mon 2016-01-25 19:22:07 CST. --</span>
<span class="go">Jan 25 17:47:06 vm-debian postgres[13699]: [1-1] 2016-01-25 17:47:06 CST [13699-1] LOG:  redirecting log output to logging collector process</span>
<span class="go">Jan 25 17:47:06 vm-debian postgres[13699]: [1-2] 2016-01-25 17:47:06 CST [13699-2] HINT:  Future log output will appear in directory &quot;pg_log&quot;.</span>
<span class="go">Jan 25 17:47:06 vm-debian postgres[13699]: [2-1] 2016-01-25 17:47:06 CST [13699-3] LOG:  ending log output to stderr</span>
<span class="go">Jan 25 17:47:06 vm-debian postgres[13699]: [2-2] 2016-01-25 17:47:06 CST [13699-4] HINT:  Future log output will go to log destination &quot;syslog&quot;.</span>
<span class="go">Jan 25 17:47:06 vm-debian postgres[13701]: [3-1] 2016-01-25 17:47:06 CST [13701-1] LOG:  database system was shut down at 2016-01-25 17:47:05 CST</span>
<span class="go">Jan 25 17:47:06 vm-debian postgres[13701]: [4-1] 2016-01-25 17:47:06 CST [13701-2] LOG:  MultiXact member wraparound protections are now enabled</span>
<span class="go">Jan 25 17:47:06 vm-debian postgres[13699]: [3-1] 2016-01-25 17:47:06 CST [13699-5] LOG:  database system is ready to accept connections</span>
<span class="go">Jan 25 17:47:06 vm-debian postgres[13705]: [3-1] 2016-01-25 17:47:06 CST [13705-1] LOG:  autovacuum launcher started</span>
<span class="go">Jan 25 17:47:07 vm-debian postgres[13710]: [4-1] 2016-01-25 17:47:07 CST [13710-1] [unknown]@[unknown] LOG:  incomplete startup packet</span>
<span class="go">Jan 25 17:49:30 vm-debian postgres[14170]: [4-1] 2016-01-25 17:49:30 CST [14170-1] root@root FATAL:  role &quot;root&quot; does not exist</span>
<span class="go">...</span>
</code></pre></div>


<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-postgresql-9-4-on-debian-8">How to Install and Use PostgreSQL 9.4 on Debian 8</a> by Digital Ocean</li>
<li><a href="https://wiki.archlinux.org/index.php/PostgreSQL">PostgreSQL</a> on Arch Wiki</li>
<li><a href="https://wiki.debian.org/PostgreSql">PostgreSQL</a> on Debian wiki</li>
<li><a href="https://help.ubuntu.com/community/PostgreSQL">PostgreSQL</a> on Ubuntu wiki</li>
</ul></section>
    <footer class="post-footer">
    <section>
        <h2>Discuss</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          var disqus_shortname = 'liang2';
          var disqus_identifier = '/posts/2016/01/postgresql-install/';
          var disqus_url = 'https://blog.liang2.tw/posts/2016/01/postgresql-install/';
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
    </section>
    <footer>
</article>
	</main>
	<footer class="site-footer">
		<a class="subscribe icon-feed" href="https://blog.liang2.tw/feeds/all.atom.xml"><span class="tooltip">Atom</span></a>
		<div class="inner">
			<section>
				Browse articles by
				<a href="https://blog.liang2.tw/tags.html">Tags</a> |
				<a href="https://blog.liang2.tw/categories.html">Categories</a>
			</section>
			<section class="contact">
				Contact me by
				<a href="https://twitter.com/lbwang2">Twitter</a> |
				<a href="https://www.facebook.com/lbwang.2">Facebook</a> |
				<a href="https://github.com/ccwang002">GitHub</a> |
				<a href="mailto:me+blog@liang2.tw">Email</a> |
				<a href="https://www.linkedin.com/in/liangbowang/">LinkedIn</a>
			</section>
			<section class="copyright">
				This work is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
			</section>
			<section class="poweredby">
				Built using <a href="https://getpelican.com/">Pelican</a>.
				Powered by the <a href="https://kura.github.io/hauntr/">Hauntr</a> theme.
			</section>
		</div>
	</footer>
</body>
</html>